<!DOCTYPE html>
<html lang="en">

<head>
	<title>Baby photos</title>
	<link rel="icon" href="img/Heart_Stitch_Valentine_love_128px_500442_easyicon.net.png" type="image/x-icon" />
	<meta charset="UTF-8" />
	<meta name="description" content="Image Wall with jQuery and CSS3" />
	<meta name="keywords" content="jquery, css3, img, wall, thumbnails, slide, animate" />
	<meta name="author" content="Codrops" />
	<link rel="stylesheet" type="text/css" href="css/photostyle.css" />
	<link href='http://fonts.googleapis.com/css?family=PT+Sans+Narrow' rel='stylesheet' type='text/css' />
	<link href='http://fonts.googleapis.com/css?family=Wire+One' rel='stylesheet' type='text/css' />
</head>
<style type="text/css">
    	 .name{
    	 	color: white;
    	 	margin-left: 500px;
    	 }
    </style>

<body>
	<div class="content">
		<header>
			<h1>Baby photos</h1>
			<span>Nothing's gonna change my love for you</span>
			<span class="name">&nbsp;&bull;&nbsp; Michael</span>
		</header>
		<div class="iw_wrapper">
			<ul class="iw_thumbs" id="iw_thumbs">
				<li><img src="img/thumbs/01.jpg" data-img="img/full/01.jpg" alt="Thumb1" /></li>
				<li><img src="img/thumbs/02.jpg" data-img="img/full/02.jpg" alt="Thumb2" /></li>
				<li><img src="img/thumbs/03.jpg" data-img="img/full/03.jpg" alt="Thumb3" /></li>
				<li><img src="img/thumbs/04.jpg" data-img="img/full/04.jpg" alt="Thumb4" /></li>
				<li><img src="img/thumbs/05.jpg" data-img="img/full/05.jpg" alt="Thumb5" /></li>
				<li><img src="img/thumbs/06.jpg" data-img="img/full/06.jpg" alt="Thumb6" /></li>
				<li><img src="img/thumbs/07.jpg" data-img="img/full/07.jpg" alt="Thumb7" /></li>
				<li><img src="img/thumbs/08.jpg" data-img="img/full/08.jpg" alt="Thumb8" /></li>
				<li><img src="img/thumbs/09.jpg" data-img="img/full/09.jpg" alt="Thumb9" /></li>
				<li><img src="img/thumbs/10.jpg" data-img="img/full/10.jpg" alt="Thumb10" /></li>
				<li><img src="img/thumbs/11.jpg" data-img="img/full/11.jpg" alt="Thumb11" /></li>
				<li><img src="img/thumbs/12.jpg" data-img="img/full/12.jpg" alt="Thumb12" /></li>
				<li><img src="img/thumbs/13.jpg" data-img="img/full/13.jpg" alt="Thumb13" /></li>
				<li><img src="img/thumbs/14.jpg" data-img="img/full/14.jpg" alt="Thumb14" /></li>
				<li><img src="img/thumbs/15.jpg" data-img="img/full/15.jpg" alt="Thumb15" /></li>
				<li><img src="img/thumbs/16.jpg" data-img="img/full/16.jpg" alt="Thumb16" /></li>
				<li><img src="img/thumbs/17.jpg" data-img="img/full/17.jpg" alt="Thumb17" /></li>
				<li><img src="img/thumbs/18.jpg" data-img="img/full/18.jpg" alt="Thumb1" /></li>
				<li><img src="img/thumbs/19.jpg" data-img="img/full/19.jpg" alt="Thumb2" /></li>
				<li><img src="img/thumbs/20.jpg" data-img="img/full/20.jpg" alt="Thumb2" /></li>
				<li><img src="img/thumbs/21.jpg" data-img="img/full/21.jpg" alt="Thumb2" /></li>
				<li><img src="img/thumbs/22.jpg" data-img="img/full/22.jpg" alt="Thumb2" /></li>
				<li><img src="img/thumbs/23.jpg" data-img="img/full/23.jpg" alt="Thumb2" /></li>
				<li><img src="img/thumbs/24.jpg" data-img="img/full/24.jpg" alt="Thumb2" /></li>
				<li><img src="img/thumbs/25.jpg" data-img="img/full/25.jpg" alt="Thumb2" /></li>
				<li><img src="img/thumbs/26.jpg" data-img="img/full/26.jpg" alt="Thumb2" /></li>
				<li><img src="img/thumbs/27.jpg" data-img="img/full/27.jpg" alt="Thumb2" /></li>
				<li><img src="img/thumbs/28.jpg" data-img="img/full/28.jpg" alt="Thumb2" /></li>
				<li><img src="img/thumbs/29.jpg" data-img="img/full/29.jpg" alt="Thumb2" /></li>
				<li><img src="img/thumbs/30.jpg" data-img="img/full/30.jpg" alt="Thumb2" /></li>
				<li><img src="img/thumbs/31.jpg" data-img="img/full/31.jpg" alt="Thumb2" /></li>
			</ul>
		</div>
		<div id="iw_ribbon" class="iw_ribbon">
			<span class="iw_close"></span>
			<span class="iw_zoom">Click thumb to zoom</span>
		</div>
	</div>

	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/jquery.masonry.min.js"></script>
	<script type="text/javascript" src="js/jquery.easing.1.3.js"></script>
	<script type="text/javascript">
		$(window).load(function () {
			var $iw_thumbs = $('#iw_thumbs'),
				$iw_ribbon = $('#iw_ribbon'),
				$iw_ribbon_close = $iw_ribbon.children('span.iw_close'),
				$iw_ribbon_zoom = $iw_ribbon.children('span.iw_zoom');

			ImageWall = (function () {
				// window width and height
				var w_dim,
					// index of current image
					current = -1,
					isRibbonShown = false,
					isFullMode = false,
					// ribbon / images animation settings
					ribbonAnim = { speed: 500, easing: 'easeOutExpo' },
					imgAnim = { speed: 400, easing: 'jswing' },
					// init function : call masonry, calculate window dimentions, initialize some events
					init = function () {
						$iw_thumbs.imagesLoaded(function () {
							$iw_thumbs.masonry({
								isAnimated: true
							});
						});
						getWindowsDim();
						initEventsHandler();
					},
					// calculate window dimentions
					getWindowsDim = function () {
						w_dim = {
							width: $(window).width(),
							height: $(window).height()
						};
					},
					// initialize some events
					initEventsHandler = function () {

						// click on a image
						$iw_thumbs.delegate('li', 'click', function () {
							if ($iw_ribbon.is(':animated')) return false;

							var $el = $(this);

							if ($el.data('ribbon')) {
								showFullImage($el);
							}
							else if (!isRibbonShown) {
								isRibbonShown = true;

								$el.data('ribbon', true);

								// set the current
								current = $el.index();

								showRibbon($el);
							}
						});

						// click ribbon close
						$iw_ribbon_close.bind('click', closeRibbon);

						// on window resize we need to recalculate the window dimentions
						$(window).bind('resize', function () {
							getWindowsDim();
							if ($iw_ribbon.is(':animated'))
								return false;
							closeRibbon();
						})
							.bind('scroll', function () {
								if ($iw_ribbon.is(':animated'))
									return false;
								closeRibbon();
							});

					},
					showRibbon = function ($el) {
						var $img = $el.children('img'),
							$descrp = $img.next();

						// fadeOut all the other images
						$iw_thumbs.children('li').not($el).animate({ opacity: 0.2 }, imgAnim.speed);

						// increase the image z-index, and set the height to 100px (default height)
						$img.css('z-index', 100)
							.data('originalHeight', $img.height())
							.stop()
							.animate({
								height: '100px'
							}, imgAnim.speed, imgAnim.easing);

						// the ribbon will animate from the left or right
						// depending on the position of the image
						var ribbonCssParam = {
							top: $el.offset().top - $(window).scrollTop() - 6 + 'px'
						},
							descriptionCssParam,
							dir;

						if ($el.offset().left < (w_dim.width / 2)) {
							dir = 'left';
							ribbonCssParam.left = 0;
							ribbonCssParam.right = 'auto';
						}
						else {
							dir = 'right';
							ribbonCssParam.right = 0;
							ribbonCssParam.left = 'auto';
						}

						$iw_ribbon.css(ribbonCssParam)
							.show()
							.stop()
							.animate({ width: '100%' }, ribbonAnim.speed, ribbonAnim.easing, function () {
								switch (dir) {
									case 'left':
										descriptionCssParam = {
											'left': $img.outerWidth(true) + 'px',
											'text-align': 'left'
										};
										break;
									case 'right':
										descriptionCssParam = {
											'left': '-200px',
											'text-align': 'right'
										};
										break;
								};
								$descrp.css(descriptionCssParam).fadeIn();
								// show close button and zoom
								$iw_ribbon_close.show();
								$iw_ribbon_zoom.show();
							});

					},
					// close the ribbon
					// when in full mode slides in the middle of the page
					// when not slides left
					closeRibbon = function () {
						isRibbonShown = false

						$iw_ribbon_close.hide();
						$iw_ribbon_zoom.hide();

						if (!isFullMode) {

							// current wall image
							var $el = $iw_thumbs.children('li').eq(current);

							resetWall($el);

							// slide out ribbon
							$iw_ribbon.stop()
								.animate({ width: '0%' }, ribbonAnim.speed, ribbonAnim.easing);

						}
						else {
							$iw_ribbon.stop().animate({
								opacity: 0.8,
								height: '0px',
								marginTop: w_dim.height / 2 + 'px' // half of window height
							}, ribbonAnim.speed, function () {
								$iw_ribbon.css({
									'width': '0%',
									'height': '126px',
									'margin-top': '0px'
								}).children('img').remove();
							});

							isFullMode = false;
						}
					},
					resetWall = function ($el) {
						var $img = $el.children('img'),
							$descrp = $img.next();

						$el.data('ribbon', false);

						// reset the image z-index and height
						$img.css('z-index', 1).stop().animate({
							height: $img.data('originalHeight')
						}, imgAnim.speed, imgAnim.easing);

						// fadeOut the description
						$descrp.fadeOut();

						// fadeIn all the other images
						$iw_thumbs.children('li').not($el).animate({ opacity: 1 }, imgAnim.speed);
					},
					showFullImage = function ($el) {
						isFullMode = true;

						$iw_ribbon_close.hide();

						var $img = $el.children('img'),
							large = $img.data('img'),

							// add a loading image on top of the image
							$loading = $('<span class="iw_loading"></span>');

						$el.append($loading);

						// preload large image
						$('<img/>').load(function () {
							var $largeImage = $(this);

							$loading.remove();

							$iw_ribbon_zoom.hide();

							resizeImage($largeImage);

							// reset the current image in the wall
							resetWall($el);

							// animate ribbon in and out
							$iw_ribbon.stop().animate({
								opacity: 1,
								height: '0px',
								marginTop: '63px' // half of ribbons height
							}, ribbonAnim.speed, function () {
								// add the large image to the DOM
								$iw_ribbon.prepend($largeImage);

								$iw_ribbon_close.show();

								$iw_ribbon.animate({
									height: '100%',
									marginTop: '0px',
									top: '0px'
								}, ribbonAnim.speed);
							});
						}).attr('src', large);

					},
					resizeImage = function ($image) {
						var widthMargin = 100,
							heightMargin = 100,

							windowH = w_dim.height - heightMargin,
							windowW = w_dim.width - widthMargin,
							theImage = new Image();

						theImage.src = $image.attr("src");

						var imgwidth = theImage.width,
							imgheight = theImage.height;

						if ((imgwidth > windowW) || (imgheight > windowH)) {
							if (imgwidth > imgheight) {
								var newwidth = windowW,
									ratio = imgwidth / windowW,
									newheight = imgheight / ratio;

								theImage.height = newheight;
								theImage.width = newwidth;

								if (newheight > windowH) {
									var newnewheight = windowH,
										newratio = newheight / windowH,
										newnewwidth = newwidth / newratio;

									theImage.width = newnewwidth;
									theImage.height = newnewheight;
								}
							}
							else {
								var newheight = windowH,
									ratio = imgheight / windowH,
									newwidth = imgwidth / ratio;

								theImage.height = newheight;
								theImage.width = newwidth;

								if (newwidth > windowW) {
									var newnewwidth = windowW,
										newratio = newwidth / windowW,
										newnewheight = newheight / newratio;

									theImage.height = newnewheight;
									theImage.width = newnewwidth;
								}
							}
						}

						$image.css({
							'width': theImage.width + 'px',
							'height': theImage.height + 'px',
							'margin-left': -theImage.width / 2 + 'px',
							'margin-top': -theImage.height / 2 + 'px'
						});
					};

				return { init: init };
			})();

			ImageWall.init();
		});
	</script>
</body>

</html>